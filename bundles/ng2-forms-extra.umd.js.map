{"version":3,"file":"ng2-forms-extra.umd.js","sources":["../src/input-status.js","../src/model.js","../src/submit-ready.directive.js","../src/non-blank.directive.js","../src/repeat-of.directive.js","../src/input.directive.js","../src/input-control.directive.js","../src/input-errors.component.js","../src/input-status.directive.js","../index.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Input status interface.\n *\n * This is a base class for input status implementations. Actual input status can be represented by one or more input\n * status objects of different types. Input status objects of different types could be distinguished by their\n * identifiers.\n *\n * There are several predefined input status implementations. Their payload is available via methods of the base\n * class.\n *\n * Input status object is meant to be immutable.\n */\nvar InputStatus = (function () {\n    /**\n     * Constructs input status.\n     *\n     * At most one object with the same identifier can exists within input status.\n     *\n     * @param _id a unique identifier of status object type.\n     */\n    function InputStatus(_id) {\n        this._id = _id;\n    }\n    Object.defineProperty(InputStatus.prototype, \"id\", {\n        /**\n         * An identifier of status object type.\n         *\n         * @return {string} the identifier passed to constructor.\n         */\n        get: function () {\n            return this._id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputStatus.prototype, \"nested\", {\n        /**\n         * Nested input status object.\n         *\n         * @return {Array<InputStatus>} a list of nested input status objects.\n         */\n        get: function () {\n            return [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputStatus.prototype, \"ready\", {\n        /**\n         * Whether the input is ready to be submitted.\n         *\n         * If some of the inputs are not ready, the submit would be prevented.\n         *\n         * When input is ready this does not necessarily mean that it is valid. Nevertheless, the validation errors won't be\n         * displayed for ready for submit inputs. This typically means that user didn't entered the invalid data. On attempt\n         * to submit an invalid* input will be marked as non-ready, submit will be prevented, and errors will be displayed.\n         *\n         * This value can be set with `InputReady` and `InputNotReady` constants.\n         *\n         * @return {boolean}\n         */\n        get: function () {\n            var readiness = this.get(inputReadinessId);\n            return readiness == null || readiness.ready;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputStatus.prototype, \"errors\", {\n        /**\n         * Input errors.\n         *\n         * Input errors could be set with `inputErrors()` method.\n         *\n         * @return {{}|undefined} a map of input errors, if any.\n         */\n        get: function () {\n            var errors = this.get(inputErrorsId);\n            return errors && errors.errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputStatus.prototype, \"control\", {\n        /**\n         * A control, which status is represented by this status.\n         *\n         * The control can be set with `inputStatusControl()` method.\n         *\n         * Note that when the status is merged from multiple controls, this value will be undefined.\n         *\n         * @return {AbstractControl|undefined} a control instance, if eny.\n         */\n        get: function () {\n            var statusControl = this.get(inputStatusControlId);\n            return statusControl && statusControl.control;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * An input status object with the given identifier.\n     *\n     * @param id target identifier.\n     *\n     * @return {InputStatus} input status which identifier is equal to the given one, if any.\n     */\n    InputStatus.prototype.get = function (id) {\n        return id === this.id ? this : undefined;\n    };\n    /**\n     * Checks whether this input status is equal to another one.\n     *\n     * @param status an input status object to compare this one with. If omitted the method will return `false`.\n     */\n    InputStatus.prototype.equals = function (status) {\n        if (!status) {\n            return false;\n        }\n        if (status === this) {\n            return true;\n        }\n        if (this.id === status.id) {\n            if (this.nested.length != status.nested.length) {\n                return false;\n            }\n            if (!this.nested.length) {\n                return this.equalValues(status);\n            }\n        }\n        return this.combine().equalValues(status.combine());\n    };\n    /**\n     * Checks whether this input status is implied by another one.\n     *\n     * This method is called to remove unnecessary input statuses from combined ones.\n     *\n     * @param status another input status to check this one against.\n     */\n    InputStatus.prototype.impliedBy = function (status) {\n        return status === this;\n    };\n    /**\n     * Merges two input statuses.\n     *\n     * @param status an input status to merge this one with.\n     *\n     * @return {InputStatus} new input status combined from the two ones.\n     */\n    InputStatus.prototype.merge = function (status) {\n        if (status.impliedBy(this)) {\n            return this;\n        }\n        if (this.impliedBy(status)) {\n            return status;\n        }\n        if (this.id === status.id && !this.nested.length && !status.nested.length) {\n            return this.mergeValues(status);\n        }\n        return this.combine().add(status).optimize();\n    };\n    InputStatus.prototype.combine = function () {\n        return new CombinedInputStatus().add(this);\n    };\n    return InputStatus;\n}());\nexport { InputStatus };\nvar combinedInputStatusId = \"__combined__\";\nvar CombinedInputStatus = (function (_super) {\n    __extends(CombinedInputStatus, _super);\n    function CombinedInputStatus() {\n        var _this = _super.call(this, combinedInputStatusId) || this;\n        _this._map = {};\n        return _this;\n    }\n    CombinedInputStatus.prototype.get = function (id) {\n        return id === this.id ? this : this._map[id];\n    };\n    Object.defineProperty(CombinedInputStatus.prototype, \"nested\", {\n        get: function () {\n            if (this._list) {\n                return this._list;\n            }\n            var list = [];\n            for (var id in this._map) {\n                if (this._map.hasOwnProperty(id)) {\n                    list.push(this._map[id]);\n                }\n            }\n            this._list = list;\n            return list;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CombinedInputStatus.prototype.add = function (status) {\n        if (status.impliedBy(this)) {\n            return this;\n        }\n        this._list = undefined;\n        if (status.id !== this.id) {\n            var prev = this._map[status.id];\n            if (!prev) {\n                this._map[status.id] = status;\n            }\n            else {\n                var merged = prev.mergeValues(status);\n                if (!merged.impliedBy(this)) {\n                    this._map[status.id] = merged;\n                }\n            }\n        }\n        for (var _i = 0, _a = status.nested; _i < _a.length; _i++) {\n            var st = _a[_i];\n            this.add(st);\n        }\n        return this;\n    };\n    CombinedInputStatus.prototype.equalValues = function (status) {\n        return nestedMapContainsAll(this._map, status._map) && mapContainsKeys(status._map, this._map);\n    };\n    CombinedInputStatus.prototype.merge = function (status) {\n        return _super.prototype.merge.call(this, status);\n    };\n    CombinedInputStatus.prototype.mergeValues = function (status) {\n        return new CombinedInputStatus().add(this).add(status);\n    };\n    CombinedInputStatus.prototype.optimize = function () {\n        var nested = this.nested;\n        if (nested.length <= 1) {\n            if (!nested.length) {\n                return InputReady;\n            }\n            return nested[0];\n        }\n        return this;\n    };\n    return CombinedInputStatus;\n}(InputStatus));\nfunction nestedMapContainsAll(map, other) {\n    for (var key in map) {\n        if (map.hasOwnProperty(key)) {\n            if (!map[key].equals(other[key])) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nvar inputReadinessId = \"__readiness__\";\nvar InputReadiness = (function (_super) {\n    __extends(InputReadiness, _super);\n    function InputReadiness(_ready) {\n        var _this = _super.call(this, inputReadinessId) || this;\n        _this._ready = _ready;\n        return _this;\n    }\n    Object.defineProperty(InputReadiness.prototype, \"ready\", {\n        get: function () {\n            return this._ready;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    InputReadiness.prototype.impliedBy = function (status) {\n        return this.ready === status.ready;\n    };\n    InputReadiness.prototype.equalValues = function (status) {\n        return this._ready === status._ready;\n    };\n    InputReadiness.prototype.mergeValues = function (status) {\n        return this.ready ? status : this;\n    };\n    return InputReadiness;\n}(InputStatus));\n/**\n * Ready for submit input status.\n */\nexport var InputReady = new InputReadiness(true);\n/**\n * Not ready for submit input status.\n */\nexport var InputNotReady = new InputReadiness(false);\n/**\n * Constructs input status control.\n *\n * The control instance will be available via `InputStatus.control` field.\n *\n * When merged with another input status the control value would be preserved, unless another input status represents\n * another control. In the latter case the control status would be dropped from merged status.\n *\n * @param control a control which status should be represented.\n */\nexport function inputStatusControl(control) {\n    return new InputStatusControl(control);\n}\nvar inputStatusControlId = \"__control__\";\nvar InputStatusControl = (function (_super) {\n    __extends(InputStatusControl, _super);\n    function InputStatusControl(_control) {\n        var _this = _super.call(this, inputStatusControlId) || this;\n        _this._control = _control;\n        return _this;\n    }\n    Object.defineProperty(InputStatusControl.prototype, \"control\", {\n        get: function () {\n            return this._control;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    InputStatusControl.prototype.impliedBy = function (status) {\n        return !this.control || this.control === status.control;\n    };\n    InputStatusControl.prototype.equalValues = function (status) {\n        return this._control === status._control;\n    };\n    InputStatusControl.prototype.mergeValues = function (status) {\n        if (!status._control || this._control === status._control) {\n            return this;\n        }\n        if (!this._control) {\n            return status;\n        }\n        return noInputStatusControl;\n    };\n    return InputStatusControl;\n}(InputStatus));\nvar noInputStatusControl = new InputStatusControl(undefined);\n/**\n * Constructs input errors.\n *\n * The `errors` map will be available via `InputStatus.errors` field.\n *\n * @param errors a error map.\n */\nexport function inputErrors(errors) {\n    return new InputErrors(errors);\n}\nvar inputErrorsId = \"__errors__\";\nvar InputErrors = (function (_super) {\n    __extends(InputErrors, _super);\n    function InputErrors(_errors) {\n        var _this = _super.call(this, inputErrorsId) || this;\n        _this._errors = _errors;\n        return _this;\n    }\n    Object.defineProperty(InputErrors.prototype, \"errors\", {\n        get: function () {\n            return this._errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    InputErrors.prototype.equalValues = function (status) {\n        return equalMaps(this._errors, status._errors);\n    };\n    InputErrors.prototype.mergeValues = function (status) {\n        if (this._errors === status._errors) {\n            return this;\n        }\n        var errors = {};\n        for (var key in this._errors) {\n            if (this._errors.hasOwnProperty(key)) {\n                errors[key] = this._errors[key];\n            }\n        }\n        for (var key in status._errors) {\n            if (status._errors.hasOwnProperty(key)) {\n                errors[key] = status._errors[key];\n            }\n        }\n        return new InputErrors(errors);\n    };\n    return InputErrors;\n}(InputStatus));\nfunction equalMaps(map1, map2) {\n    return mapContainsAll(map1, map2) && mapContainsKeys(map2, map1);\n}\nfunction mapContainsKeys(map, other) {\n    for (var key in map) {\n        if (map.hasOwnProperty(key)) {\n            if (!other.hasOwnProperty(key)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction mapContainsAll(map, other) {\n    for (var key in map) {\n        if (map.hasOwnProperty(key)) {\n            if (map[key] !== other[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=input-status.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EventEmitter } from \"@angular/core\";\nimport { InputReady } from \"./input-status\";\n/**\n * Submittable interface.\n *\n * Submittables (e.g. form inputs) could be submitted at once via {{SubmitService}}.\n *\n * Submittable is responsible for its input status indication and updates.\n */\nvar Submittable = (function () {\n    function Submittable() {\n    }\n    Object.defineProperty(Submittable.prototype, \"ready\", {\n        /**\n         * Whether this submittable is ready to be submitted.\n         *\n         * @return {boolean} the value of `.inputStatus.ready` field.\n         */\n        get: function () {\n            return this.inputStatus.ready;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Submittable.prototype, \"errors\", {\n        /**\n         * An errors associated with this submittable.\n         *\n         * @return {{}|undefined} the value of `.inputStatus.errors` field.\n         */\n        get: function () {\n            return this.inputStatus.errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Submittable;\n}());\nexport { Submittable };\n/**\n * A utility registry implementation.\n */\nvar Registry = (function () {\n    function Registry() {\n        this.changes = new EventEmitter();\n        this._map = {};\n        this._idSeq = 0;\n    }\n    Object.defineProperty(Registry.prototype, \"list\", {\n        get: function () {\n            if (this._list) {\n                return this._list;\n            }\n            var list = [];\n            for (var id in this._map) {\n                if (this._map.hasOwnProperty(id)) {\n                    list.push(this._map[id]);\n                }\n            }\n            return this._list = list;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Registry.prototype.add = function (item, handle) {\n        var unregister = !handle ? (function () { }) : typeof handle === \"function\" ? handle : (function () { return handle.unregister(); });\n        var id = \"\" + ++this._idSeq;\n        var self = this;\n        this._map[id] = item;\n        this._list = undefined;\n        this.changes.emit(this.list);\n        return {\n            unregister: function () {\n                delete self._map[id];\n                self._list = undefined;\n                self.changes.emit(self.list);\n                unregister();\n            }\n        };\n    };\n    return Registry;\n}());\nexport { Registry };\nvar resolved = Promise.resolve();\n/**\n * A group of submittables represented as one submittable.\n *\n * The submittables could be added to the group with `addSubmittable()` methods.\n *\n * The input status of this group is combined from the added submittables' input statuses with `InputStatus.merge()`\n * method.\n *\n * This is a base class for concrete injectable service implementations. It is also used as a provider token.\n */\nvar SubmitGroup = (function (_super) {\n    __extends(SubmitGroup, _super);\n    function SubmitGroup() {\n        var _this = _super.call(this) || this;\n        _this.inputStatusChange = new EventEmitter();\n        _this._registry = new Registry();\n        _this._inputStatus = InputReady;\n        return _this;\n    }\n    Object.defineProperty(SubmitGroup.prototype, \"inputStatus\", {\n        get: function () {\n            return this._inputStatus;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SubmitGroup.prototype, \"submittableChanges\", {\n        /**\n         * An event emitter reporting on submittable list changes, i.e. submittable additions or removals.\n         *\n         * @return {EventEmitter<Submittable[]>}\n         */\n        get: function () {\n            return this._registry.changes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SubmitGroup.prototype, \"submittables\", {\n        /**\n         * Submittables added to this group.\n         *\n         * @return {Submittable[]} an array of submittables.\n         */\n        get: function () {\n            return this._registry.list;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SubmitGroup.prototype.updateInputStatus = function (_a) {\n        var _b = (_a === void 0 ? {} : _a).emitEvents, emitEvents = _b === void 0 ? true : _b;\n        var status = this.submittables.reduce(function (combined, s) { return combined.merge(s.updateInputStatus({ emitEvents: false })); }, InputReady);\n        this.setInputStatus(status, { emitEvents: emitEvents });\n        return status;\n    };\n    SubmitGroup.prototype.setInputStatus = function (status, _a) {\n        var _b = (_a === void 0 ? {} : _a).emitEvents, emitEvents = _b === void 0 ? true : _b;\n        if (this._inputStatus.equals(status)) {\n            return;\n        }\n        this._inputStatus = status;\n        if (emitEvents !== false) {\n            this.inputStatusChange.emit(status);\n        }\n    };\n    /**\n     * Adds submittable to this group.\n     *\n     * The addition would be reported by `submittableChanges` event emitter.\n     *\n     * @param submittable a submittable to add.\n     *\n     * @return {RegistryHandle} a handle that can be used to remove the `submittable` from this group. The removal\n     * would be reported by `submittableChanges` event emitter.\n     */\n    SubmitGroup.prototype.addSubmittable = function (submittable) {\n        var _this = this;\n        var subscr;\n        var reg = this.registerSubmittable(submittable);\n        var handle = this._registry.add(submittable, function () {\n            subscr && subscr.unsubscribe();\n            try {\n                reg.unregister();\n            }\n            finally {\n                _this.updateInputStatus();\n            }\n        });\n        this.updateInputStatus();\n        subscr = submittable.inputStatusChange.subscribe(function () { return resolved.then(function () { return _this.updateInputStatus(); }); });\n        return handle;\n    };\n    SubmitGroup.prototype.registerSubmittable = function (_submittable) {\n        return {\n            unregister: function () { }\n        };\n    };\n    return SubmitGroup;\n}(Submittable));\nexport { SubmitGroup };\n/**\n * Input service.\n *\n * An input service is registered by {{InputDirective}} to group one or more input fields.\n */\nvar InputService = (function (_super) {\n    __extends(InputService, _super);\n    function InputService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return InputService;\n}(SubmitGroup));\nexport { InputService };\n/**\n * Submit service.\n *\n * A submit service is registered alongside Angular forms by {{SubmitReadyDirective}}. The input fields are added\n * to this service automatically (either directly, or by {{InputService}}). It can be used to submit such forms when\n * they are ready.\n */\nvar SubmitService = (function (_super) {\n    __extends(SubmitService, _super);\n    function SubmitService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._submitted = false;\n        return _this;\n    }\n    Object.defineProperty(SubmitService.prototype, \"submitted\", {\n        /**\n         * Whether an attempt to submit this form were performed.\n         *\n         * @return {boolean} `true` if `.submit()` method is called.\n         */\n        get: function () {\n            return this._submitted;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Resets a submitted flag.\n     */\n    SubmitService.prototype.resetSubmitted = function () {\n        this._submitted = false;\n    };\n    return SubmitService;\n}(SubmitGroup));\nexport { SubmitService };\n//# sourceMappingURL=model.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Directive, HostListener, Output, EventEmitter, forwardRef } from \"@angular/core\";\nimport { SubmitService, SubmitGroup } from \"./model\";\nvar SubmitReadyDirective = (function (_super) {\n    __extends(SubmitReadyDirective, _super);\n    function SubmitReadyDirective() {\n        var _this = _super.call(this) || this;\n        _this.preSubmit = new EventEmitter();\n        _this.submitReady = new EventEmitter();\n        return _this;\n    }\n    SubmitReadyDirective.prototype.onSubmit = function () {\n        this.submit();\n    };\n    SubmitReadyDirective.prototype.submit = function () {\n        this._submitted = true;\n        this.preSubmit.emit(null);\n        var status = this.updateInputStatus({ emitEvents: false });\n        if (!status.ready) {\n            return false;\n        }\n        this.submitReady.emit(null);\n        return true;\n    };\n    SubmitReadyDirective.prototype.ngOnDestroy = function () {\n        this.submitReady.complete();\n    };\n    return SubmitReadyDirective;\n}(SubmitService));\nexport { SubmitReadyDirective };\nSubmitReadyDirective.decorators = [\n    { type: Directive, args: [{\n                selector: 'form:not([ngNoForm]),ngForm,[ngForm],[formGroup]',\n                exportAs: \"frexSubmit\",\n                providers: [\n                    {\n                        provide: SubmitService,\n                        useExisting: forwardRef(function () { return SubmitReadyDirective; }),\n                    },\n                    {\n                        provide: SubmitGroup,\n                        useExisting: SubmitService,\n                    },\n                ]\n            },] },\n];\n/** @nocollapse */\nSubmitReadyDirective.ctorParameters = function () { return []; };\nSubmitReadyDirective.propDecorators = {\n    'preSubmit': [{ type: Output },],\n    'submitReady': [{ type: Output },],\n    'onSubmit': [{ type: HostListener, args: ['ngSubmit',] },],\n};\n//# sourceMappingURL=submit-ready.directive.js.map","import { NG_VALIDATORS, Validators } from \"@angular/forms\";\nimport { Directive, forwardRef, Input } from \"@angular/core\";\nvar NOOP = function () { };\nvar NonBlankDirective = (function () {\n    function NonBlankDirective() {\n        this._onChange = NOOP;\n    }\n    Object.defineProperty(NonBlankDirective.prototype, \"nonBlank\", {\n        get: function () {\n            return this._required;\n        },\n        set: function (value) {\n            this._required = value != null && \"\" + value !== 'false';\n            this._onChange();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NonBlankDirective.prototype.validate = function (c) {\n        return this.nonBlank ? Validators.required(c) : null;\n    };\n    NonBlankDirective.prototype.registerOnValidatorChange = function (fn) {\n        this._onChange = fn || NOOP;\n    };\n    return NonBlankDirective;\n}());\nexport { NonBlankDirective };\nNonBlankDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[nonBlank]',\n                providers: [\n                    {\n                        provide: NG_VALIDATORS,\n                        useExisting: forwardRef(function () { return NonBlankDirective; }),\n                        multi: true,\n                    }\n                ],\n            },] },\n];\n/** @nocollapse */\nNonBlankDirective.ctorParameters = function () { return []; };\nNonBlankDirective.propDecorators = {\n    'nonBlank': [{ type: Input },],\n};\n//# sourceMappingURL=non-blank.directive.js.map","import { Directive, Input, forwardRef, Injector } from \"@angular/core\";\nimport { NgControl, NG_VALIDATORS } from \"@angular/forms\";\nvar VALID = null;\nvar NOOP = function () { };\nvar RepeatOfDirective = (function () {\n    function RepeatOfDirective(_injector) {\n        this._injector = _injector;\n        this._onChange = NOOP;\n    }\n    Object.defineProperty(RepeatOfDirective.prototype, \"repeatOf\", {\n        set: function (value) {\n            this._repeatOf = value;\n            this.unsubscribe();\n            this.subscribe();\n            this._onChange();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RepeatOfDirective.prototype.validate = function (control) {\n        if (!this._repeatOf) {\n            return VALID;\n        }\n        if (control.value == null || control.value === \"\") {\n            return VALID;\n        }\n        if (control.value == this._repeatOf.value) {\n            return VALID;\n        }\n        return { \"repeat\": \"Values don't match\" };\n    };\n    RepeatOfDirective.prototype.registerOnValidatorChange = function (fn) {\n        this._onChange = fn || NOOP;\n    };\n    RepeatOfDirective.prototype.ngOnDestroy = function () {\n        this.unsubscribe();\n    };\n    RepeatOfDirective.prototype.subscribe = function () {\n        if (!this._repeatOf) {\n            return;\n        }\n        var control = this._injector.get(NgControl).control;\n        var repeatOfControl = this._repeatOf.control;\n        if (control && repeatOfControl) {\n            this._repeatOfSubscr = repeatOfControl.valueChanges.subscribe(function (value) { return control.updateValueAndValidity(); });\n        }\n    };\n    RepeatOfDirective.prototype.unsubscribe = function () {\n        if (this._repeatOfSubscr) {\n            this._repeatOfSubscr.unsubscribe();\n            this._repeatOfSubscr = undefined;\n        }\n    };\n    return RepeatOfDirective;\n}());\nexport { RepeatOfDirective };\nRepeatOfDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[repeatOf]',\n                providers: [\n                    {\n                        provide: NG_VALIDATORS,\n                        useExisting: forwardRef(function () { return RepeatOfDirective; }),\n                        multi: true,\n                    }\n                ],\n            },] },\n];\n/** @nocollapse */\nRepeatOfDirective.ctorParameters = function () { return [\n    { type: Injector, },\n]; };\nRepeatOfDirective.propDecorators = {\n    'repeatOf': [{ type: Input },],\n};\n//# sourceMappingURL=repeat-of.directive.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Directive, forwardRef } from \"@angular/core\";\nimport { InputService, SubmitService, SubmitGroup } from \"./model\";\nvar InputDirective = (function (_super) {\n    __extends(InputDirective, _super);\n    function InputDirective(_submitService) {\n        var _this = _super.call(this) || this;\n        _this._submitService = _submitService;\n        return _this;\n    }\n    InputDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        this._regHandle = this._submitService.addSubmittable(this);\n        this._preSubmitSubscr = this._submitService.preSubmit.subscribe(function () { return _this.updateInputStatus(); });\n    };\n    InputDirective.prototype.ngOnDestroy = function () {\n        if (this._regHandle) {\n            this._regHandle.unregister();\n            delete this._regHandle;\n        }\n        if (this._preSubmitSubscr) {\n            this._preSubmitSubscr.unsubscribe();\n            delete this._preSubmitSubscr;\n        }\n    };\n    return InputDirective;\n}(InputService));\nexport { InputDirective };\nInputDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[inputStatus],[inputGroup]',\n                exportAs: \"frexInput\",\n                providers: [\n                    {\n                        provide: InputService,\n                        useExisting: forwardRef(function () { return InputDirective; }),\n                    },\n                    {\n                        provide: SubmitGroup,\n                        useExisting: InputService,\n                    },\n                ]\n            },] },\n];\n/** @nocollapse */\nInputDirective.ctorParameters = function () { return [\n    { type: SubmitService, },\n]; };\n//# sourceMappingURL=input.directive.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Directive, Host, EventEmitter, Optional } from \"@angular/core\";\nimport { NgControl } from \"@angular/forms\";\nimport { Submittable, SubmitGroup, SubmitService } from \"./model\";\nimport { InputReady, InputNotReady, inputErrors } from \"./input-status\";\nimport { inputStatusControl } from \"./input-status\";\nvar InputControlDirective = (function (_super) {\n    __extends(InputControlDirective, _super);\n    function InputControlDirective(_control, _submitGroup, _submitService) {\n        var _this = _super.call(this) || this;\n        _this._control = _control;\n        _this._submitGroup = _submitGroup;\n        _this._submitService = _submitService;\n        _this.inputStatusChange = new EventEmitter();\n        _this._inputStatus = InputReady;\n        return _this;\n    }\n    Object.defineProperty(InputControlDirective.prototype, \"inputStatus\", {\n        get: function () {\n            return this._inputStatus;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputControlDirective.prototype, \"control\", {\n        get: function () {\n            return this._control.control || undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    InputControlDirective.prototype.updateInputStatus = function (_a) {\n        var _b = (_a === void 0 ? {} : _a).emitEvents, emitEvents = _b === void 0 ? true : _b;\n        var status = inputStatusControl(this.control);\n        status = this.addReadiness(status);\n        status = this.addErrors(status);\n        if (!status.equals(this._inputStatus)) {\n            this._inputStatus = status;\n            if (emitEvents !== false) {\n                this.inputStatusChange.emit(status);\n            }\n        }\n        return status;\n    };\n    InputControlDirective.prototype.addReadiness = function (status) {\n        var control = this.control;\n        if (!control) {\n            return status.merge(InputReady);\n        }\n        var affected = control.dirty || !this._submitService || this._submitService.submitted;\n        var ready = !(control.invalid && affected);\n        return status.merge(ready ? InputReady : InputNotReady);\n    };\n    InputControlDirective.prototype.addErrors = function (status) {\n        var control = this.control;\n        if (!control) {\n            return status;\n        }\n        var errors = control.errors;\n        if (errors) {\n            return status.merge(inputErrors(errors));\n        }\n        return status;\n    };\n    InputControlDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        this._preSubmitSubscr =\n            this._submitService && this._submitService.preSubmit.subscribe(function () { return _this.updateInputStatus(); });\n        var control = this.control;\n        if (control) {\n            this._stateSubscr = control.statusChanges.subscribe(function () { return _this.updateInputStatus(); });\n        }\n        this.updateInputStatus({ emitEvents: false });\n        this._regHandle = this._submitGroup && this._submitGroup.addSubmittable(this);\n    };\n    InputControlDirective.prototype.ngOnDestroy = function () {\n        if (this._regHandle) {\n            this._regHandle.unregister();\n            delete this._regHandle;\n        }\n        if (this._stateSubscr) {\n            this._stateSubscr.unsubscribe();\n            delete this._stateSubscr;\n        }\n        if (this._preSubmitSubscr) {\n            this._preSubmitSubscr.unsubscribe();\n            delete this._preSubmitSubscr;\n        }\n    };\n    return InputControlDirective;\n}(Submittable));\nexport { InputControlDirective };\nInputControlDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[ngModel],[formControl],[formControlName]'\n            },] },\n];\n/** @nocollapse */\nInputControlDirective.ctorParameters = function () { return [\n    { type: NgControl, decorators: [{ type: Host },] },\n    { type: SubmitGroup, decorators: [{ type: Optional },] },\n    { type: SubmitService, decorators: [{ type: Optional },] },\n]; };\n//# sourceMappingURL=input-control.directive.js.map","import { Component, Input, Optional } from \"@angular/core\";\nimport { SubmitGroup } from \"./model\";\nvar DEFAULT_INPUT_ERRORS_MAP = {\n    required: \"This field is required\",\n    minlength: function (error) {\n        if (error && error.requiredLength > 0) {\n            return \"The value should be at least \" + error.requiredLength + \" characters long\";\n        }\n        return \"The value is too short\";\n    },\n    maxlength: function (error) {\n        if (error && error.requiredLength > 0) {\n            return \"The value should be at most \" + error.requiredLength + \" characters long\";\n        }\n        return \"The value is too long\";\n    },\n};\nvar resolved = Promise.resolve();\nvar InputErrorsComponent = (function () {\n    function InputErrorsComponent(_submitGroup) {\n        this._submitGroup = _submitGroup;\n        this._errors = [];\n        this.inputErrorsMap = {};\n    }\n    Object.defineProperty(InputErrorsComponent.prototype, \"hasErrors\", {\n        get: function () {\n            return !this._submitGroup.inputStatus.ready && this.errors.length > 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputErrorsComponent.prototype, \"errors\", {\n        get: function () {\n            return this._errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    InputErrorsComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this._subscription = this._submitGroup.submittableChanges.subscribe(function (submittables) { return _this.updateSubmittables(submittables); });\n        this.updateSubmittables(this._submitGroup.submittables);\n    };\n    InputErrorsComponent.prototype.ngOnDestroy = function () {\n        if (this._subscription) {\n            this._subscription.unsubscribe();\n            delete this._subscription;\n        }\n    };\n    InputErrorsComponent.prototype.trackError = function (error) {\n        return error.key;\n    };\n    InputErrorsComponent.prototype.updateSubmittables = function (submittables) {\n        var _this = this;\n        var updateErrors = function () { return resolved.then(function () {\n            _this._errors.splice(0);\n            submittables.forEach(function (submittable) {\n                var errors = submittable.inputStatus.errors;\n                if (errors) {\n                    for (var key in errors) {\n                        if (errors.hasOwnProperty(key)) {\n                            var message = _this.errorMessage(submittable, key, errors[key]);\n                            if (message != null) {\n                                _this._errors.push({ key: key, message: message });\n                            }\n                        }\n                    }\n                }\n            });\n        }); };\n        submittables.forEach(function (s) { return s.inputStatusChange.subscribe(updateErrors); });\n        updateErrors();\n    };\n    InputErrorsComponent.prototype.errorMessage = function (control, key, value) {\n        if (value == null) {\n            return undefined;\n        }\n        var known = this.inputErrorsMap[key];\n        if (known != null) {\n            return errorMessage(control, value, known);\n        }\n        var defaultMsg = errorMessage(control, value, DEFAULT_INPUT_ERRORS_MAP[key]);\n        if (defaultMsg != null) {\n            return defaultMsg;\n        }\n        if (typeof value === \"string\") {\n            return value;\n        }\n        return key;\n    };\n    return InputErrorsComponent;\n}());\nexport { InputErrorsComponent };\nInputErrorsComponent.decorators = [\n    { type: Component, args: [{\n                selector: 'input-errors,[inputErrors],[inputErrorsMap]',\n                template: \"\\n    <ul class=\\\"frex-error-list\\\" *ngIf=\\\"hasErrors\\\">\\n        <li *ngFor=\\\"let error of errors; trackBy: trackError\\\" class=\\\"frex-error\\\">{{error.message}}</li>\\n    </ul>\\n    \",\n                host: {\n                    '[class.frex-errors]': 'true',\n                    '[class.frex-no-errors]': '!hasErrors',\n                }\n            },] },\n];\n/** @nocollapse */\nInputErrorsComponent.ctorParameters = function () { return [\n    { type: SubmitGroup, decorators: [{ type: Optional },] },\n]; };\nInputErrorsComponent.propDecorators = {\n    'inputErrorsMap': [{ type: Input },],\n};\nfunction errorMessage(submittable, value, message) {\n    if (message == null) {\n        return undefined;\n    }\n    if (typeof message === \"string\") {\n        return message;\n    }\n    return message(value, submittable);\n}\n//# sourceMappingURL=input-errors.component.js.map","import { Directive, HostBinding } from \"@angular/core\";\nimport { InputService } from \"./model\";\nvar InputStatusDirective = (function () {\n    function InputStatusDirective(_inputService) {\n        this._inputService = _inputService;\n    }\n    Object.defineProperty(InputStatusDirective.prototype, \"invalid\", {\n        get: function () {\n            return !this._inputService.inputStatus.ready;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return InputStatusDirective;\n}());\nexport { InputStatusDirective };\nInputStatusDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[inputStatus]',\n            },] },\n];\n/** @nocollapse */\nInputStatusDirective.ctorParameters = function () { return [\n    { type: InputService, },\n]; };\nInputStatusDirective.propDecorators = {\n    'invalid': [{ type: HostBinding, args: [\"class.frex-invalid\",] },],\n};\n//# sourceMappingURL=input-status.directive.js.map","import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { SubmitReadyDirective } from \"./src/submit-ready.directive\";\nimport { NonBlankDirective } from \"./src/non-blank.directive\";\nimport { RepeatOfDirective } from \"./src/repeat-of.directive\";\nimport { InputDirective } from \"./src/input.directive\";\nimport { InputControlDirective } from \"./src/input-control.directive\";\nimport { InputErrorsComponent } from \"./src/input-errors.component\";\nimport { InputStatusDirective } from \"./src/input-status.directive\";\nexport * from \"./src/input.directive\";\nexport * from \"./src/input-control.directive\";\nexport * from \"./src/input-errors.component\";\nexport * from \"./src/input-status\";\nexport * from \"./src/input-status.directive\";\nexport * from \"./src/model\";\nexport * from \"./src/non-blank.directive\";\nexport * from \"./src/repeat-of.directive\";\nexport * from \"./src/submit-ready.directive\";\nvar FormsExtraModule = (function () {\n    function FormsExtraModule() {\n    }\n    return FormsExtraModule;\n}());\nexport { FormsExtraModule };\nFormsExtraModule.decorators = [\n    { type: NgModule, args: [{\n                imports: [\n                    CommonModule,\n                    FormsModule,\n                ],\n                declarations: [\n                    SubmitReadyDirective,\n                    NonBlankDirective,\n                    RepeatOfDirective,\n                    InputDirective,\n                    InputControlDirective,\n                    InputErrorsComponent,\n                    InputStatusDirective,\n                ],\n                exports: [\n                    FormsModule,\n                    SubmitReadyDirective,\n                    NonBlankDirective,\n                    RepeatOfDirective,\n                    InputDirective,\n                    InputControlDirective,\n                    InputErrorsComponent,\n                    InputStatusDirective,\n                ]\n            },] },\n];\n/** @nocollapse */\nFormsExtraModule.ctorParameters = function () { return []; };\n//# sourceMappingURL=index.js.map"],"names":["__extends","this","EventEmitter","Directive","forwardRef","Output","HostListener","Validators","NG_VALIDATORS","Input","NOOP","NgControl","Injector","Host","Optional","resolved","Component","HostBinding","NgModule","CommonModule","FormsModule"],"mappings":"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"}